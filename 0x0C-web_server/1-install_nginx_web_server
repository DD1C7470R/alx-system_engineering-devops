#!/usr/bin/env bash
#install an nginx server and serves hello world

# Update the package list and install NGINX
sudo apt-get update
sudo apt-get install -y nginx
sudo ufw allow 'Nginx HTTP'

# Allow HTTP traffic through the firewall
sudo ufw allow 'Nginx HTTP'

# Check if NGINX is running
if pgrep nginx &>/dev/null; then
    echo "NGINX is already running."
else
    echo "NGINX is not running. Starting NGINX..."
    sudo service nginx start
fi

# Check if NGINX is already configured
if grep -q "Hello World!" /var/www/html/index.nginx-debian.html; then
    echo "NGINX is already configured to serve Hello World!"
else
    echo "Configuring NGINX to serve Hello World..."
    echo "Hello World!" > /var/www/html/index.nginx-debian.html 
fi

